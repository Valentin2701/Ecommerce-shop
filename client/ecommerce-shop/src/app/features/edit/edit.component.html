<h1>Edit a product</h1>

<form class="form" [formGroup]="form" (ngSubmit)="edit()">
  <label for="name" class="input-label">Name</label>
  <input
    type="text"
    id="name"
    class="input-field"
    required
    aria-label="Name"
    formControlName="name"
  />
  <ng-container *ngIf="form.get('name')?.touched">
    <p class="error" *ngIf="form.get('name')?.errors?.['required']">
        Name of product is required!
      </p>
      <p class="error" *ngIf="form.get('name')?.errors?.['minlength']">
        Name of product must be atleast 2 characters long!
      </p>
</ng-container>

  <label for="code" class="input-label">Code</label>
  <input
    type="text"
    id="code"
    class="input-field"
    required
    aria-label="Code"
    formControlName="code"
  />
  <ng-container *ngIf="form.get('code')?.touched">
    <p class="error" *ngIf="form.get('code')?.errors?.['required']">
        Code is required!
      </p>
</ng-container>

  <label for="brand" class="input-label">Brand</label>
  <input
    type="text"
    id="brand"
    class="input-field"
    required
    aria-label="Brand"
    formControlName="brand"
  />
  <ng-container *ngIf="form.get('brand')?.touched">
    <p class="error" *ngIf="form.get('brand')?.errors?.['required']">
        Brand is required!
      </p>
      <p class="error" *ngIf="form.get('brand')?.errors?.['brand']">
        Brand must be atleast 2 characters long!
      </p>
</ng-container>

  <label for="price" class="input-label">Price</label>
  <input
    type="number"
    id="price"
    class="input-field"
    required
    aria-label="Price"
    formControlName="price"
  />
  <ng-container *ngIf="form.get('price')?.touched">
    <p class="error" *ngIf="form.get('price')?.errors?.['required']">
        Price is required!
      </p>
      <p class="error" *ngIf="form.get('price')?.errors?.['min']">
        Price must be a positive number!
      </p>
</ng-container>

  <label for="image" class="input-label">Image</label>
  <input
    type="text"
    id="image"
    class="input-field"
    required
    aria-label="image"
    formControlName="image"
  />
  <ng-container *ngIf="form.get('image')?.touched">
    <p class="error" *ngIf="form.get('image')?.errors?.['required']">
        Image is required!
      </p>
      <p class="error" *ngIf="form.get('image')?.errors?.['pattern']">
        Image is invalid
      </p>
</ng-container>

  <label for="description" class="input-label">Description</label>
  <textarea
      id="description"
      class="input-field"
      required
      aria-label="Description"
      formControlName="description"
    ></textarea>
    <ng-container *ngIf="form.get('description')?.touched">
        <p class="error" *ngIf="form.get('description')?.errors?.['required']">
            Description is required!
          </p>
          <p class="error" *ngIf="form.get('description')?.errors?.['minlength']">
            Description must be atleast 20 characters long!
          </p>
          <p class="error" *ngIf="form.get('description')?.errors?.['maxlength']">
            Description must be less than 300 characters long!
          </p>
    </ng-container>

  <div class="navigation-controls">
    <button type="submit" class="next-button" aria-label="Create product" [disabled]="form.invalid">
      <span>Edit</span>
      <img
        src="https://cdn.builder.io/api/v1/image/assets/TEMP/55402a2be1c6d53ccfa401b0e5bde4ce71ab3fc8982b85e7a65be1b19479f81b?placeholderIfAbsent=true&apiKey=637d52b7836245638b3cb5f84c1adefc"
        class="nav-icon"
        alt=""
        role="presentation"
      />
    </button>
  </div>
</form>
<button type="button" class="back-button" aria-label="Go back" routerLink="/products/{{product._id}}">
  <img
    src="https://cdn.builder.io/api/v1/image/assets/TEMP/5f80417016b6d0fddf685145832a8adbec0952182b815bc1e6933c279121a21e?placeholderIfAbsent=true&apiKey=637d52b7836245638b3cb5f84c1adefc"
    class="nav-icon"
    alt=""
    role="presentation"
  />
  <span>Back</span>
</button>
